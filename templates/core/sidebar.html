{% load blog_tags %}

<aside
  id="sidebar"
  class="glassy slide-up col-sm-6 col-md-5 col-lg-4 col-xl-3 p-3 position-fixed text-right border border-secondary">

  <div class="d-flex justify-content-between">

    <!-- Search form ----------------------------->

    <div class="flex-grow-1">
      {% include 'blog/post/forms/search_form.html' %}
    </div>

    <!-- Sidebar toggler ------------------------->

    <div
      class="nav-btn"
      aria-label="Toggle sidebar"
      _="on click toggle between .slide-up and .slide-down on #sidebar">
        <img src="/static/img/icons/close.png"/>
    </div>

  </div>

  <!-- Sidebar content --------------------------->

  <div class="mt-5 px-4 px-lg-5">

    <!-- Projects sidebar content  -->

    <div class="mb-5">
      <h3
        class="text-primary"
        hx-get="{% url 'projects:homepage' %}"
        hx-target="#content"
        hx-swap="outerHTML show:window:top"
        hx-push-url="true"
        style="cursor:pointer"
        _="on click toggle between .slide-down and .slide-up on #sidebar">
          projects
      </h3>
      <p>
        Amet nisl purus in mollis nunc. Odio ut sem.
      </p>
    </div>

    <!-- Blog sidebar content  -->

    <div class="mb-5">
      <h3
        class="text-primary"
        hx-get="{% url 'blog:homepage' %}"
        hx-target="#content"
        hx-swap="outerHTML show:window:top"
        hx-push-url="true"
        style="cursor:pointer"
        _="on click toggle between .slide-down and .slide-up on #sidebar">
          blog
      </h3>
      <p>
        Elementum facilisis leo vel fringilla est ullamcorper.
      </p>

      <div class="pt-2">
        <h5 class="text-primary">Recent posts</h5>
        {% get_latest_posts 3 %}
      </div>

      <div class="pt-2">
        <h5 class="text-primary">Tags</h5>
        {% get_all_post_tags as post_tags %}
        <ul>
          {% for tag in post_tags %}
          <li class="mb-1">
            <span class="tag">#{{ tag.name }}</span>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>

  </div>

</aside>